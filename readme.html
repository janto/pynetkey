<html>
<head>
<title>Pynetkey</title>
<style type="text/css">
body {
	font-family:arial,helvetica;
	}

h1,h2 {
	background-color:#99CCFF;
	}
</style>
</head>
<body>

<!-- <img src="icons/main.ico" /> -->

<h1>Pynetkey</h1>
<p>
This program was <em><font color="red">not written by IT</font></em> and is not supported by them!<br />
Pynetkey's main goals are to be more robust and attractive (it sits in the system tray) than the existing inetkey/sinetkey. It also runs on both Windows and Linux systems. Pynetkey is released under the GPL.
</p>
<p>
Main local site: <a href="http://dip.sun.ac.za/~janto/pynetkey">http://dip.sun.ac.za/~janto/pynetkey</a><br />
Bugs and feature requests go here <a href="http://bitbucket.org/janto/pynetkey/issues">http://bitbucket.org/janto/pynetkey/issues</a><br />
<!-- Mailing list: <a href="http://groups.google.com/group/pynetkey">http://groups.google.com/group/pynetkey</a><br /> -->
If you need help, email me (Janto Dreijer) at jantod@gmail.com
</p>

<h2>Installation</h2>

<h3>Windows Installation</h3>
<ol>
<li>download <code>pynetkey.<b>zip</b></code> from the main site</li>
<li>extract somewhere permanent and run <code>pynetkey.exe</code></li>
<li>(optional) create a shortcut to <code>pynetkey.exe</code> (such as on your desktop)</li>
</ol>

<h3>Ubuntu Installation</h3>

<p>
To install the GUI version
<ol>
<li>download <code>pynetkey.<b>deb</b></code> from the main site</li>
<li>open it (by for example double clicking) and click on the "Install Package" button</li>
<li>a Pynetkey icon wil appear in the Applications menu under Internet. You can right click on it to add an additional launcher icon to the desktop.</li>
<li>an entry under <code>sources.list.d</code> will be automatically added</li>
</ol>
</p>

<p>
The GUI version was developed with an ubuntu/gnome system in mind.
A minimal single-file non-gui version is also available as <code>cli.py</code> and should run on most systems with Python2.6.
If you have an earlier Python, installing the <a href="http://pypi.python.org/pypi/ssl/">SSL package</a> might work.
If you installed the GUI version, the non-gui version is accessible from the terminal as <code>python-cli</code>.
</p>

<h2>Licensing</h2>
<p>
Pynetkey is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
</p>
<p>
Pynetkey is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the <a href="http://www.gnu.org/licenses/gpl.html">GNU General Public License</a> for more details.
</p>

<h2>Development</h2>
Since the code is GPL, feel free to start hacking at it. If you do something interesting let me know and I might integrate it with my version.

You can get the source from a few places:
<ul>
<li>If you installed the deb file, you already have the code and Mercurial repository under <code>/usr/share/pyshared/pynetkey/</code></li>
<li>you can pull the stable source from the local repository mirror:
	<pre>hg clone static-http://dip.sun.ac.za/~janto/pynetkey/repo pynetkey</pre>
</li>
<li>you can pull the bleeding edge sources from the main repository (for this to work you need to be already connected to the internet):
	<pre>hg clone http://bitbucket.org/janto/pynetkey/</pre>
</li>
</ul>

<!--
<h3>Design guidelines</h3>
Most of the philosophy behind pynetkey is about preferring quality and minimalism over functionality.
Pynetkey is a security application. As such it has a cautious approach to what gets implemented.
As code grows it gets more difficult to maintain. Adding features creates more places bugs and unexpected behaviour to sneak in.
This doesn't necessarily mean pynetkey is against adding features, just that a solution that allows scripting of a features is preferable to integrating the feature into pynetkey.
Feature creep should be avoided. In fact, removing features if it potentially degrades the quality of pynetkey is not such a bad thing.

Pynetkey's core behaviour must only depend on packages included with the basic ubuntu installation or live-cd. Extra functionality may be enabled by installing additional packages.
Compatibility with older versions must be preserved as much as possible. Think long and hard before breaking backwards compatibility.
-->

<h3>Windows Build requirements</h3>
You can run <code>build.bat</code> to create a distribution file.
<ul>
<li>python2.6</li>
<li>py2exe</li>
<li>pywin32</li>
</ul>

<h2>Config File</h2>

<h3>Location</h3>
<p>
Pynetkey's default behaviour can be modified by creating a config file in the following location (or just select "Edit config file..." from the popup menu):
<ul>
<li>On Windows: <code>~\inetkey.ini</code> (usually <code>C:\Documents and Settings\username\inetkey.ini</code>)
<li>On Linux: <code>~/.inetkeyrc</code>
</ul>
</p>

<h3>Saving your username and password</h3>
<p>
<em><font color="red">WARNING:</font></em> Please be aware how dangerous it is to store your username and password on your computer.
If you don't know why this is dangerous, I suggest you rather not do it.
Someone can easily steal your password.
This is also why I won't make this feature easily available from the GUI.
IT does not like the idea of people storing their passwords on disk.
</p>
<p>
Pynetkey will automatically encode the password to prevent wandering eyes from stealing your password, but it is <em><font color="red">NOT</font></em> the same as it being encrypted.
</p>

<h3>Scheduling</h3>
<p>
You can force an open or close events at scheduled times.
This is useful for things like automated downloads / torrenting.
The current implementation is accurate to within 30 seconds.
<p>
The events in the example config file might also be useful. It will open the firewall 5 minutes before the low cost timeslot and closes it 5 minutes before it ends.
</p>
<p>
Remember that the amount you get charged depends on the timeslot in which your download finishes. Also, configure your download manager / torrent application to stop in time. Don't trust that your download will stop just because you closed the firewall.
</p>


<p>
Under the <code>[events]</code> section you need to have entries in the form of <code>close1 = Mon 07:55</code>.
The day of week is optional, so <code>open3 = 02:00</code> will open the firewall each morning at 2 am.
</p>

<h3>Other Settings</h3>
<p>
Setting <code>open_on_launch=1</code> (the default) will open the firewall on launch. Set <code>open_on_launch=0</code> to disable this feature.
</p>
<!-- <p>
The <code>connection_url</code> setting has been removed.
</p> -->
<p>
Setting <code>notify_on_error=1</code> (default) will use pynotify to alert the user when an error occurs. This might become irritating on bad connections (SCN/matieswifi), in which case disable it by setting it equal to <code>0</code>.
</p>
<!-- <p>If you're on Stellenbosch Community Network it might help setting <code>connection_hostname</code> to <code>fw4.sun.ac.za</code> or fw1 or fw2...</p> -->
</ul>

<h3>Example</h3>
<p>
<pre>
[config]
username = 12345678
password = supersecret
open_on_launch = 1
notify_on_error = 1

[events]

close1 = Mon 07:55
open1 = Mon 23:55

close2 = Tue 07:55
open2 = Tue 23:55

close3 = Wed 07:55
open3 = Wed 23:55

close4 = Thu 07:55
open4 = Thu 23:55

close5 = Fri 07:55
open5 = Fri 23:55

close6 = Sat 07:55
open6 = Sat 16:55
</pre>
</p>

<h2>Tips and Tricks</h2>
<p>
The deb file installs a shortlink to cli.py as <code>/usr/bin/pynetkey-cli</code>. That means you can just type <code>pynetkey-cli</code> into the terminal for quick firewall control.
</p>
<p>
The <code>pynetkey</code> terminal command will give you some control of a running pynetkey gui process.
</p>
<p>
If you want a more persistent command line process you might be interested in the following command:
<code>screen -d -m pynetkey-cli -c ~/.inetkeyrc</code>
This will create a screen session and immediatly detach it. cli.py will continue to log in and stay connected. You will need to attach the screen with <code>screen -r</code> to log out when you're done.
</p>
</body>
</html>
